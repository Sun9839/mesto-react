{"version":3,"sources":["images/logo.png","images/success.svg","images/unsuccessful.svg","components/Header.js","components/Form.js","components/AuthPopup.js","utils/auth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","contexts/currentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","utils/api.js","components/MainPage.js","components/App.js","index.js"],"names":["module","exports","Header","props","className","alt","src","logo","email","to","link","linkText","button","Form","React","useState","setEmailValue","password","setPasswordValue","onSubmit","e","preventDefault","onUpdateUser","name","formName","noValidate","title","id","type","required","autoComplete","minLength","maxLength","placeholder","value","onChange","target","buttonText","where","AuthPopup","isOpen","popupSelector","onClick","onClose","regPopup","success","unsuccessful","text","auth","baseUrl","this","_url","response","json","console","log","Promise","reject","statusText","err","message","obj","fetch","method","headers","body","JSON","stringify","then","_handleResponse","catch","_handleResponseError","jwt","withRouter","useEffect","localStorage","getItem","signWithJWT","data","handleLogin","history","push","signin","token","setItem","returnError","img","regPopupText","close","regText","setRegText","setRegPopup","regImg","setRegImg","other","postUser","removeItem","openRegistrationPopup","ProtectedRoute","Component","component","loggedIn","CurrentUserContext","createContext","Card","context","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","onCardClick","handleCardDelete","handleCardLike","length","Main","clickImage","isEditAvatarPopupOpen","avatar","about","onEditProfile","onAddPlace","cards","map","item","clickOnLike","key","clickOnDeleteButton","Footer","PopupWithForm","children","AddPlacePopup","linkRef","useRef","titleRef","current","onAddCard","ref","ImagePopup","EditProfilePopup","currentUser","setName","description","setDescription","event","EditAvatarPopup","avatarRef","onUpdateAvatar","api","authorization","cardsUrl","userUrl","_authorization","_cardsUrl","_userUrl","ok","cardId","setCurrentUser","setCards","editAvatarPopup","setEditAvatarPopup","editProfilePopup","setEditProfilePopup","editPlacePopup","setEditPlacePopup","editCardPopup","setEditCardPopup","selectedCard","setSelectedCard","closeAllPopups","getUser","user","getInitialCards","Provider","removeLike","newCard","newCards","c","setLike","deleteCard","filter","editProfile","addCardToServer","setAvatar","App","setLoggedIn","registrationPopup","path","MainPage","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.1685ff0c.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/unsuccessful.f10ac534.svg\";","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport logo from \"../images/logo.png\";\r\n\r\nfunction Header(props) {\r\n    return(\r\n        <header className='header'>\r\n            <img\r\n                className='header__logo'\r\n                alt='Место'\r\n                src={logo}\r\n            />\r\n            <p className='header__email'>{props.email}</p>\r\n            <Link\r\n                className='header__link'\r\n                to={props.link}>{props.linkText}\r\n            </Link>\r\n            {props.button}\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nfunction Form(props){\r\n    const [email, setEmailValue] = React.useState('');\r\n    const [password, setPasswordValue] = React.useState('');\r\n    function handleChangeEmail(e) {\r\n        setEmailValue(e.target.value);\r\n    }\r\n    function handleChangePassword(e) {\r\n        setPasswordValue(e.target.value);\r\n    }\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            password, email\r\n        });\r\n    }\r\n    return(\r\n        <form className='form' onSubmit={handleSubmit} name={props.formName} noValidate>\r\n            <h3 className='form__title'>{props.title}</h3>\r\n            <div className='form__inputs'>\r\n                <input id='input-email' name='email' type='email' required autoComplete=\"off\" minLength=\"2\" maxLength=\"40\" placeholder='Email' value={email} onChange={handleChangeEmail} className='form__input' />\r\n                <input id='input-password' name='password' type='password' required autoComplete=\"off\" minLength=\"2\" maxLength=\"40\" placeholder='Пароль' value={password} onChange={handleChangePassword} className='form__input' />\r\n            </div>\r\n            <button className='form__button'>{props.buttonText}</button>\r\n            <p className='form__route'>\r\n                {`${props.where} зарегистрированы? `}\r\n                <Link className='form__link' to={props.link}>{props.linkText}</Link>\r\n            </p>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form","import React from \"react\";\r\nimport success from \"../images/success.svg\";\r\nimport unsuccessful from \"../images/unsuccessful.svg\"\r\n\r\nfunction AuthPopup (props){\r\n    return(\r\n        <section className={`popup ${props.isOpen && 'popup_opened'}`} id={props.popupSelector}>\r\n            <div className='popup__container'>\r\n                <button className='popup__close' onClick={props.onClose} type='button' />\r\n                <div className='popup__container popup__container_type_sign-in'>\r\n                    <img className='popup__reg-img' src={props.regPopup ? success : unsuccessful} />\r\n                    <p className='popup__response'>{props.text}</p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default AuthPopup;","class Auth {\r\n    constructor({ baseUrl }) {\r\n        this._url = baseUrl;\r\n    }\r\n    _handleResponse(response){\r\n        if (response) {\r\n            return response.json();\r\n        } else {\r\n            console.log('_handleResponse rejection')\r\n            return Promise.reject(response.statusText)\r\n        }\r\n    }\r\n    _handleResponseError(err){\r\n        console.log('_handleResponseError')\r\n        return Promise.reject(err.message)\r\n    }\r\n    postUser(obj){\r\n        return fetch(`${this._url}/signup`,{\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(obj)\r\n        })\r\n            .then(this._handleResponse)\r\n            .catch(this._handleResponseError)\r\n    }\r\n    signin(obj){\r\n        return fetch(`${this._url}/signin`,{\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(obj)\r\n        })\r\n            .then(this._handleResponse)\r\n            .catch(this._handleResponseError)\r\n    }\r\n    signWithJWT(jwt){\r\n        return fetch(`${this._url}/users/me`,{\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\" : `Bearer ${jwt}`\r\n            }\r\n        })\r\n            .then(this._handleResponse)\r\n            .catch(this._handleResponseError)\r\n    }\r\n}\r\n\r\nexport const auth = new Auth({\r\n    baseUrl: \"https://auth.nomoreparties.co\"\r\n})","import React from 'react';\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport Header from \"./Header\";\r\nimport Form from \"./Form\";\r\nimport AuthPopup from \"./AuthPopup\";\r\nimport { auth } from '../utils/auth';\r\n\r\nfunction Login(props){\r\n    function signIn(obj){\r\n        auth.signin(obj)\r\n            .then((data) => {\r\n                if(data.token){\r\n                    localStorage.setItem('jwt',data.token)\r\n                    props.handleLogin();\r\n                    props.history.push('/')\r\n                }else{\r\n                    props.returnError()\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n    React.useEffect(() => {\r\n        const jwt = localStorage.getItem('jwt');\r\n        if(jwt != null){\r\n            auth.signWithJWT(jwt).then((data) => {\r\n                if(data.data){\r\n                    props.handleLogin();\r\n                    props.history.push('/')\r\n                }\r\n            })\r\n        }\r\n    })\r\n    return(\r\n        <div className='page'>\r\n            <Header\r\n                link='/sign-up'\r\n                linkText='Регистрация'\r\n            />\r\n            <Form\r\n                onUpdateUser={signIn}\r\n                title='Вход'\r\n                buttonText='Войти'\r\n                where='Ещё не'\r\n                link='/sign-up'\r\n                linkText='Регистрация'/>\r\n            <AuthPopup\r\n                img={props.img}\r\n                text={`${props.regPopupText}`}\r\n                isOpen={props.regPopup}\r\n                onClose={props.close} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Login);","import React from 'react';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport Header from \"./Header\";\r\nimport Form from \"./Form\";\r\nimport AuthPopup from \"./AuthPopup\";\r\nimport { auth } from '../utils/auth';\r\n\r\nfunction Register(props){\r\n    const [regText,setRegText] = React.useState('');\r\n    const [regPopup,setRegPopup] = React.useState(false);\r\n    const [regImg,setRegImg] = React.useState(false);\r\n    function registration  (obj)  {\r\n        auth.postUser(obj)\r\n            .then((data) => {\r\n                if(data.data){\r\n                    localStorage.removeItem('jwt');\r\n                    props.history.push('/login');\r\n                    props.openRegistrationPopup();\r\n                }else{\r\n                    setRegImg(false);\r\n                    setRegPopup(true);\r\n                    setRegText('Что-то пошло не так!Попробуйте ещё раз.')\r\n                }\r\n        })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n    }\r\n    function close(){\r\n        setRegPopup(false);\r\n    }\r\n    React.useEffect(() => {\r\n        const jwt = localStorage.getItem('jwt');\r\n        if(jwt != null){\r\n            auth.signWithJWT(jwt).then((data) => {\r\n                if(data.data){\r\n                    props.handleLogin();\r\n                    props.history.push('/')\r\n                }\r\n            })\r\n        }\r\n    })\r\n    return(\r\n        <div className='page'>\r\n            <AuthPopup img={regImg} text={regText} isOpen={regPopup} onClose={close} />\r\n            <Header\r\n                other={\r\n                    <Link className='header__link' to={props.link}>{props.linkText}</Link>\r\n                }\r\n                link=\"/sign-in\"\r\n                linkText='Войти'/>\r\n            <Form\r\n                onUpdateUser={registration}\r\n                formName={'register'}\r\n                title='Регистрация'\r\n                buttonText='Зарегистрироваться'\r\n                where='Уже'\r\n                link='/sign-in'\r\n                linkText='Войти'\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Register);","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n    return (\r\n        <Route>\r\n            {\r\n                () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n            }\r\n        </Route>\r\n    )}\r\n\r\nexport default ProtectedRoute;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext()\r\n\r\n","import React from \"react\";\r\nimport {CurrentUserContext} from \"../contexts/currentUserContext\";\r\n\r\nfunction Card (props){\r\n    const context = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === context._id;\r\n    const isLiked = props.card.likes.some(i => i._id === context._id)\r\n    function handleImageClick () {\r\n        props.onCardClick(props.card);\r\n    }\r\n    function handleCardLike () {\r\n        props.handleCardLike(props.card);\r\n    }\r\n    function handleCardDelete(){\r\n        props.handleCardDelete(props.card);\r\n    }\r\n    return(\r\n        <div className='place-card'>\r\n            <img className='place-card__image' alt='фото' src={props.card.link} onClick={handleImageClick} />\r\n            <button onClick={handleCardDelete} className={`place-card__delete ${(isOwn ? \"\" : \"place-card__delete_disabled\")}`} type='button'/>\r\n            <p className='place-card__title'>{props.card.name}</p>\r\n            <div className='place-card__like-container'>\r\n                <button className={`place-card__like ${isLiked ? 'place-card__like_clicked' : ''}`} onClick={handleCardLike} type='button'/>\r\n                <p className='place-card__quantity'>{props.card.likes.length}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Card;","import React from 'react';\r\nimport Card from \"./Card.js\";\r\nimport {CurrentUserContext} from \"../contexts/currentUserContext\";\r\n\r\nfunction Main (props){\r\n    const context = React.useContext(CurrentUserContext)\r\n\r\n    function clickImage(card){\r\n        props.onCardClick(card)\r\n    }\r\n    return(\r\n        <>\r\n            <section className='profile'>\r\n                <button className='profile__image-button' type='button' onClick={props.isEditAvatarPopupOpen} />\r\n                <img className='profile__image' alt='фото профиля' src={context.avatar} />\r\n                <div className='profile__info'>\r\n                    <h1 className='profile__name'>{context.name}</h1>\r\n                    <p className='profile__activity'>{context.about}</p>\r\n                    <button className='profile__edit' type='button' onClick={props.onEditProfile} />\r\n                </div>\r\n                <button className='profile__add' type='button' onClick={props.onAddPlace } />\r\n            </section>\r\n\r\n            <section className='places-list'>\r\n                {props.cards.map((item) => {\r\n                    return (<Card\r\n                        handleCardLike={props.clickOnLike}\r\n                        onCardClick={clickImage}\r\n                        key={item._id}\r\n                        card={item}\r\n                        handleCardDelete={props.clickOnDeleteButton}\r\n                    />)\r\n                })}\r\n            </section>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\n\r\nfunction Footer() {\r\n    return(\r\n        <footer className='footer'>\r\n            <p className='footer__text'>&#169; 2020 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nfunction PopupWithForm (props){\r\n    return(\r\n        <section className={`popup ${props.isOpen && 'popup_opened'}`} id={props.formName}>\r\n            <div className='popup__container'>\r\n                <button className='popup__close' onClick={props.onClose} type='button' />\r\n                <form className='popup__form' onSubmit={props.onSubmit} name={props.formName} noValidate>\r\n                    <h3 className='popup__title'>{props.title}</h3>\r\n                    {props.children}\r\n                    <button className='popup__save'>{props.buttonText}</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup(props){\r\n    const linkRef = React.useRef();\r\n    const titleRef = React.useRef();\r\n    function handleAddPlaceSubmit(e){\r\n        e.preventDefault();\r\n        props.onAddCard({\r\n            link: linkRef.current.value,\r\n            name: titleRef.current.value\r\n        })\r\n    }\r\n    React.useEffect(() => {\r\n        linkRef.current.value = '';\r\n        titleRef.current.value = ''\r\n    },[linkRef,titleRef]);\r\n    return(\r\n        <PopupWithForm isOpen={props.isOpen}\r\n                       onClose={props.onClose}\r\n                       onSubmit={handleAddPlaceSubmit}\r\n                       formName={'card-popup'}\r\n                       buttonText={'Добавить'}\r\n                       title={'Новое место'}\r\n                       children={\r\n                           <>\r\n                               <input ref={titleRef} autoComplete=\"off\" minLength=\"1\" maxLength=\"30\" className='popup__name' id='input-place' name='name' type='text' placeholder='Название' required />\r\n                               <span className='popup__input-error' id='input-place-error'/>\r\n                               <input ref={linkRef} autoComplete=\"off\" type=\"url\" className='popup__activity' id='input-link' name='link' placeholder='Ссылка на картинку' required />\r\n                               <span className='popup__input-error' id='input-link-error'/>\r\n                           </>\r\n                       }\r\n        />\r\n    )\r\n}","import React from \"react\";\r\n\r\nfunction ImagePopup (props){\r\n    return(\r\n        <section className={`popup ${props.isOpen && 'popup_opened'}`} id={props.popupSelector}>\r\n            <div className='popup__container'>\r\n                <button className='popup__close' onClick={props.onClose} type='button' />\r\n                <img className='popup__image' alt='фото' src={`${props.card.link}`}/>\r\n                <p className='popup__text'>{props.card.name}</p>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import React from \"react\";\r\nimport {CurrentUserContext} from \"../contexts/currentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup (props){\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name,setName] = React.useState(currentUser.name);\r\n    const [description, setDescription] = React.useState(currentUser.about);\r\n    function changeName(e){\r\n        setName(e.target.value);\r\n    }\r\n    function changeAbout(event){\r\n        setDescription(event.target.value)\r\n    }\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    },[currentUser.name,currentUser.about])\r\n    return(\r\n        <PopupWithForm\r\n            formName={'profile-popup'}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            title={'Редактировать профиль'}\r\n            buttonText={'Сохранить'}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input value={name || ''} onChange={changeName} autoComplete=\"off\" minLength=\"2\" maxLength=\"40\" className='popup__name' id='input-name' name='name' type='text' required />\r\n                    <span className='popup__input-error' id='input-name-error'/>\r\n                    <input value={description || ''} onChange={changeAbout} autoComplete=\"off\" minLength=\"2\" maxLength=\"200\" className='popup__activity' id='input-activity' name='about' type='text' required />\r\n                    <span className='popup__input-error' id='input-activity-error'/>\r\n                </>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup(props){\r\n    const avatarRef = React.useRef()\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        })\r\n    }\r\n    React.useEffect(() => {\r\n        avatarRef.current.value = ''\r\n    },[avatarRef])\r\n    return(\r\n        <PopupWithForm\r\n            formName={'avatar-popup'}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            title={'Обновить аватар'}\r\n            buttonText={'Сохранить'}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                  <input ref={avatarRef} autoComplete=\"off\" type=\"url\" className='popup__name' id='input-avatar' name='avatar' placeholder='Ссылка на аватар' required />\r\n                  <span className='popup__input-error' id='input-avatar-error'/>\r\n                </>\r\n            }\r\n            />\r\n    )\r\n}","class defaultApi {\r\n    constructor({authorization,cardsUrl,userUrl}) {\r\n        this._authorization = authorization;\r\n        this._cardsUrl = cardsUrl;\r\n        this._userUrl = userUrl;\r\n    }\r\n    _handleResponse(response){\r\n        if (response.ok) {\r\n            return response.json();\r\n        } else {\r\n            console.log('_handleResponse rejection')\r\n            return Promise.reject(response.statusText)\r\n        }\r\n    }\r\n    _handleResponseError(err){\r\n        console.log('_handleResponseError')\r\n        return Promise.reject(err.message)\r\n    }\r\n    addCardToServer(obj){\r\n        return fetch(this._cardsUrl,{\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: obj.name,\r\n                link: obj.link\r\n            })\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    removeLike(cardId){\r\n        return fetch(`${this._cardsUrl}likes/${cardId}`,{\r\n            headers: {authorization: this._authorization},\r\n            method: 'DELETE'\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    setLike(cardId){\r\n        return fetch(`${this._cardsUrl}likes/${cardId}`,{\r\n            headers: {authorization: this._authorization},\r\n            method: 'PUT'\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    deleteCard(cardId){\r\n        return fetch(`${this._cardsUrl}${cardId}`,{\r\n            headers: {authorization: this._authorization},\r\n            method: 'DELETE'\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    getUser(){\r\n        return fetch(this._userUrl,{\r\n            headers: {authorization: this._authorization}\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    getInitialCards(){\r\n        return fetch(this._cardsUrl,{\r\n            headers: {authorization: this._authorization}\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    editProfile(obj){\r\n        return fetch(this._userUrl,{\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: obj.name,\r\n                about: obj.about\r\n            })\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    setAvatar(obj){\r\n        return fetch(`${this._userUrl}/avatar`,{\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: obj.avatar\r\n            })\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n}\r\n\r\nexport const api = new defaultApi({\r\n    authorization: 'fe47d12a-65cb-489c-8a22-593f286d28c3',\r\n    cardsUrl: 'https://mesto.nomoreparties.co/v1/cohort-13/cards/',\r\n    userUrl: 'https://mesto.nomoreparties.co/v1/cohort-13/users/me'\r\n})","import React from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport Header from './Header.js';\r\nimport Main from \"./Main.js\";\r\nimport Footer from './Footer.js';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport {CurrentUserContext} from \"../contexts/currentUserContext\";\r\nimport{api} from \"../utils/api\";\r\nimport {auth} from \"../utils/auth\";\r\n\r\nfunction MainPage(props){\r\n    const jwt = localStorage.getItem('jwt');\r\n    const [currentUser, setCurrentUser] = React.useState({});\r\n    const [cards, setCards] = React.useState([])\r\n    const [editAvatarPopup, setEditAvatarPopup] = React.useState(false);\r\n    const [editProfilePopup, setEditProfilePopup] = React.useState(false);\r\n    const [editPlacePopup, setEditPlacePopup] = React.useState(false)\r\n    const [editCardPopup,setEditCardPopup] = React.useState(false);\r\n    const [selectedCard, setSelectedCard] = React.useState({});\r\n\r\n    function handleEditAvatarClick () {\r\n        setEditAvatarPopup(true);\r\n    }\r\n    function handleEditProfilePopup(){\r\n        setEditProfilePopup(true);\r\n    }\r\n    function handleEditPlacePopup(){\r\n        setEditPlacePopup(true);\r\n    }\r\n    function handleCardPopup(card){\r\n        setEditCardPopup(true);\r\n        setSelectedCard(card);\r\n    }\r\n    function closeAllPopups(){\r\n        setEditCardPopup(false);\r\n        setEditPlacePopup(false);\r\n        setEditProfilePopup(false);\r\n        setEditAvatarPopup(false);\r\n        setSelectedCard({});\r\n    }\r\n    function onLikeClick(card){\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n        if(isLiked){\r\n            api.removeLike(card._id).then((newCard) => {\r\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n                setCards(newCards);\r\n            })\r\n        }else{\r\n            api.setLike(card._id).then((newCard) => {\r\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n                setCards(newCards);\r\n            })\r\n        }\r\n    }\r\n\r\n    function onDeleteButtonClick(card){\r\n        api.deleteCard(card._id).then((deleteCard) => {\r\n            const newCards = cards.filter(item => item !== deleteCard);\r\n            setCards(newCards)\r\n        })\r\n    }\r\n    function updateUser(obj){\r\n        api.editProfile(obj).then((data) => {\r\n            setCurrentUser(data);\r\n        }).then(() => {\r\n            closeAllPopups();\r\n        })\r\n    }\r\n    function updateAvatar(obj){\r\n        api.setAvatar(obj).then((data) => {\r\n            setCurrentUser(data)\r\n        }).then(() => {\r\n            closeAllPopups();\r\n        })\r\n    }\r\n    function addCard(obj){\r\n        api.addCardToServer(obj).then((newCard) => {\r\n            setCards([...cards,newCard]);\r\n        }).then(() => {\r\n            closeAllPopups();\r\n        })\r\n    }\r\n    function exit(e){\r\n        e.preventDefault();\r\n        localStorage.removeItem('jwt');\r\n        props.history.push('/sign-in');\r\n    }\r\n    React.useEffect(() => {\r\n        api.getUser().then((user) => {\r\n            setCurrentUser(user);\r\n        })\r\n\r\n        api.getInitialCards().then((data) => {\r\n            setCards(data);\r\n        })\r\n    },[]);\r\n    return(\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <div className='page'>\r\n                <Header\r\n                    link=\"/sign-in\"\r\n                    button={\r\n                        <button onClick={exit} className='header__exit'>Выйти</button>\r\n                } />\r\n                <Main cards={cards} clickOnLike={onLikeClick} clickOnDeleteButton={onDeleteButtonClick} onCardClick={handleCardPopup} onEditProfile={handleEditProfilePopup} onAddPlace={handleEditPlacePopup} isEditAvatarPopupOpen={handleEditAvatarClick} />\r\n                <Footer />\r\n                <EditProfilePopup onUpdateUser={updateUser} onClose={closeAllPopups} isOpen={editProfilePopup} />\r\n                <AddPlacePopup onAddCard={addCard} onClose={closeAllPopups} isOpen={editPlacePopup} />\r\n                <PopupWithForm buttonText={'Да'} onClose={closeAllPopups} isOpen={false} popupSelector=\"delete-popup\" title=\"Вы уверены?\" />\r\n                <EditAvatarPopup onUpdateAvatar={updateAvatar} onClose={closeAllPopups} isOpen={editAvatarPopup} />\r\n                <ImagePopup popupSelector=\"image-popup\" card={selectedCard} onClose={closeAllPopups} isOpen={editCardPopup}/>\r\n            </div>\r\n        </CurrentUserContext.Provider>\r\n   );\r\n}\r\n\r\nexport default withRouter(MainPage);","import React from 'react';\r\nimport { Route, Switch, BrowserRouter } from 'react-router-dom';\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport MainPage from \"./MainPage\";\r\n\r\nfunction App(props){\r\n    const [loggedIn,setLoggedIn] = React.useState(false);\r\n    const [email,setEmail] = React.useState('');\r\n    const [regText,setRegText] = React.useState('');\r\n    const [registrationPopup,setRegPopup] = React.useState(false);\r\n    const [regImg,setRegImg] = React.useState(false);\r\n    function auth(){\r\n        setLoggedIn(true)\r\n    }\r\n    function openRegPopup(){\r\n        setRegPopup(true);\r\n        setRegText('Вы успешно зарегистрировались!');\r\n        setRegImg(true);\r\n    }\r\n    function errPopup(){\r\n        setRegPopup(true);\r\n        setRegText('Что-то пошло не так!Попробуйте ещё раз.');\r\n    }\r\n    function closeRegPopup(){\r\n        setRegPopup(false);\r\n    }\r\n    return(\r\n        <BrowserRouter>\r\n        <Switch>\r\n            <Route path='/sign-up'>\r\n                <Register\r\n                    handleLogin={auth}\r\n                    openRegistrationPopup={openRegPopup}\r\n                />\r\n            </Route>\r\n            <Route path='/sign-in'>\r\n                <Login\r\n                    handleLogin={auth}\r\n                    returnError={errPopup}\r\n                    img={regImg}\r\n                    regPopupText={regText}\r\n                    regPopup={registrationPopup}\r\n                    close={closeRegPopup}\r\n                    loggedIn={auth}\r\n                />\r\n            </Route>\r\n            <ProtectedRoute\r\n                path='/'\r\n                loggedIn={loggedIn}\r\n                component={MainPage}\r\n            />\r\n        </Switch>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App.js';\r\nimport './index.css';\r\n\r\n\r\nReactDOM.render((\r\n    <App />\r\n    ), document.querySelector('#root'));"],"sourceRoot":""}