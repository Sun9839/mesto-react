{"version":3,"sources":["components/Header.js","contexts/currentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","utils/api.js","components/App.js","index.js","images/logo.png"],"names":["Header","className","alt","src","logo","CurrentUserContext","React","createContext","Card","props","context","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","link","onClick","onCardClick","handleCardDelete","type","name","handleCardLike","length","Main","clickImage","isEditAvatarPopupOpen","avatar","about","onEditProfile","onAddPlace","cards","map","item","clickOnLike","key","clickOnDeleteButton","Footer","PopupWithForm","isOpen","id","formName","onClose","onSubmit","noValidate","title","children","buttonText","AddPlacePopup","linkRef","useRef","titleRef","useEffect","current","value","e","preventDefault","onAddCard","ref","autoComplete","minLength","maxLength","placeholder","required","ImagePopup","popupSelector","EditProfilePopup","currentUser","useState","setName","description","setDescription","onUpdateUser","onChange","target","event","EditAvatarPopup","avatarRef","onUpdateAvatar","api","authorization","cardsUrl","userUrl","this","_authorization","_cardsUrl","_userUrl","response","ok","json","console","log","Promise","reject","statusText","err","message","obj","fetch","method","headers","body","JSON","stringify","then","_handleResponse","catch","_handleResponseError","cardId","App","setCurrentUser","setCards","editAvatarPopup","setEditAvatarPopup","editProfilePopup","setEditProfilePopup","editPlacePopup","setEditPlacePopup","editCardPopup","setEditCardPopup","selectedCard","setSelectedCard","closeAllPopups","getUser","user","getInitialCards","data","Provider","removeLike","newCard","newCards","c","setLike","deleteCard","filter","editProfile","addCardToServer","setAvatar","ReactDOM","render","document","querySelector","module","exports"],"mappings":"mPAWeA,MARf,WACI,OACI,4BAAQC,UAAU,UACd,yBAAKA,UAAU,eAAeC,IAAI,iCAAQC,IAAKC,QCJ9CC,EAAqBC,IAAMC,gBC0BzBC,MAzBf,SAAeC,GACX,IAAMC,EAAUJ,IAAMK,WAAWN,GAC3BO,EAAQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAQK,IACzCC,EAAUP,EAAMI,KAAKI,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQL,EAAQK,OAU7D,OACI,yBAAKd,UAAU,cACX,yBAAKA,UAAU,oBAAoBC,IAAI,2BAAOC,IAAKM,EAAMI,KAAKO,KAAMC,QAX5E,WACIZ,EAAMa,YAAYb,EAAMI,SAWpB,4BAAQQ,QANhB,WACIZ,EAAMc,iBAAiBd,EAAMI,OAKUZ,UAAS,6BAAyBW,EAAQ,GAAK,+BAAkCY,KAAK,WACzH,uBAAGvB,UAAU,qBAAqBQ,EAAMI,KAAKY,MAC7C,yBAAKxB,UAAU,8BACX,4BAAQA,UAAS,2BAAsBe,EAAU,2BAA6B,IAAMK,QAZhG,WACIZ,EAAMiB,eAAejB,EAAMI,OAW0FW,KAAK,WAClH,uBAAGvB,UAAU,wBAAwBQ,EAAMI,KAAKI,MAAMU,WCevDC,MAlCf,SAAenB,GACX,IAAMC,EAAUJ,IAAMK,WAAWN,GAEjC,SAASwB,EAAWhB,GAChBJ,EAAMa,YAAYT,GAEtB,OACI,oCACI,6BAASZ,UAAU,WACf,4BAAQA,UAAU,wBAAwBuB,KAAK,SAASH,QAASZ,EAAMqB,wBACvE,yBAAK7B,UAAU,iBAAiBC,IAAI,sEAAeC,IAAKO,EAAQqB,SAChE,yBAAK9B,UAAU,iBACX,wBAAIA,UAAU,iBAAiBS,EAAQe,MACvC,uBAAGxB,UAAU,qBAAqBS,EAAQsB,OAC1C,4BAAQ/B,UAAU,gBAAgBuB,KAAK,SAASH,QAASZ,EAAMwB,iBAEnE,4BAAQhC,UAAU,eAAeuB,KAAK,SAASH,QAASZ,EAAMyB,cAGlE,6BAASjC,UAAU,eACdQ,EAAM0B,MAAMC,KAAI,SAACC,GACd,OAAQ,kBAAC,EAAD,CACJX,eAAgBjB,EAAM6B,YACtBhB,YAAaO,EACbU,IAAKF,EAAKtB,IACVF,KAAMwB,EACNd,iBAAkBd,EAAM+B,4BCpBjCC,MARf,WACI,OACI,4BAAQxC,UAAU,UACd,uBAAGA,UAAU,gBAAb,4BCYGyC,MAff,SAAwBjC,GACpB,OACI,6BAASR,UAAS,gBAAWQ,EAAMkC,QAAU,gBAAkBC,GAAInC,EAAMoC,UACrE,yBAAK5C,UAAU,oBACX,4BAAQA,UAAU,eAAeoB,QAASZ,EAAMqC,QAAStB,KAAK,WAC9D,0BAAMvB,UAAU,cAAc8C,SAAUtC,EAAMsC,SAAUtB,KAAMhB,EAAMoC,SAAUG,YAAU,GACpF,wBAAI/C,UAAU,gBAAgBQ,EAAMwC,OACnCxC,EAAMyC,SACP,4BAAQjD,UAAU,eAAeQ,EAAM0C,gBCP5C,SAASC,EAAc3C,GAClC,IAAM4C,EAAU/C,IAAMgD,SAChBC,EAAWjD,IAAMgD,SAYvB,OAJAhD,IAAMkD,WAAU,WACZH,EAAQI,QAAQC,MAAQ,GACxBH,EAASE,QAAQC,MAAQ,KAC3B,CAACL,EAAQE,IAEP,kBAAC,EAAD,CAAeZ,OAAQlC,EAAMkC,OACdG,QAASrC,EAAMqC,QACfC,SAdnB,SAA8BY,GAC1BA,EAAEC,iBACFnD,EAAMoD,UAAU,CACZzC,KAAMiC,EAAQI,QAAQC,MACtBjC,KAAM8B,EAASE,QAAQC,SAWZb,SAAU,aACVM,WAAY,mDACZF,MAAO,gEACPC,SACI,oCACI,2BAAOY,IAAKP,EAAUQ,aAAa,MAAMC,UAAU,IAAIC,UAAU,KAAKhE,UAAU,cAAc2C,GAAG,cAAcnB,KAAK,OAAOD,KAAK,OAAO0C,YAAY,mDAAWC,UAAQ,IACtK,0BAAMlE,UAAU,qBAAqB2C,GAAG,sBACxC,2BAAOkB,IAAKT,EAASU,aAAa,MAAMvC,KAAK,MAAMvB,UAAU,kBAAkB2C,GAAG,aAAanB,KAAK,OAAOyC,YAAY,qGAAqBC,UAAQ,IACpJ,0BAAMlE,UAAU,qBAAqB2C,GAAG,wBCfxDwB,MAZf,SAAqB3D,GACjB,OACI,6BAASR,UAAS,gBAAWQ,EAAMkC,QAAU,gBAAkBC,GAAInC,EAAM4D,eACrE,yBAAKpE,UAAU,oBACX,4BAAQA,UAAU,eAAeoB,QAASZ,EAAMqC,QAAStB,KAAK,WAC9D,yBAAKvB,UAAU,eAAeC,IAAI,2BAAOC,IAAG,UAAKM,EAAMI,KAAKO,QAC5D,uBAAGnB,UAAU,eAAeQ,EAAMI,KAAKY,SCqCxC6C,MAzCf,SAA2B7D,GACvB,IAAM8D,EAAcjE,IAAMK,WAAWN,GADR,EAENC,IAAMkE,SAASD,EAAY9C,MAFrB,mBAEtBA,EAFsB,KAEjBgD,EAFiB,OAGSnE,IAAMkE,SAASD,EAAYvC,OAHpC,mBAGtB0C,EAHsB,KAGTC,EAHS,KAqB7B,OAJArE,IAAMkD,WAAU,WACZiB,EAAQF,EAAY9C,MACpBkD,EAAeJ,EAAYvC,SAC7B,CAACuC,EAAY9C,KAAK8C,EAAYvC,QAE5B,kBAAC,EAAD,CACIa,SAAU,gBACVF,OAAQlC,EAAMkC,OACdG,QAASrC,EAAMqC,QACfG,MAAO,4HACPE,WAAY,yDACZJ,SAlBR,SAAsBY,GAClBA,EAAEC,iBACFnD,EAAMmE,aAAa,CACfnD,OACAO,MAAO0C,KAePxB,SACI,oCACI,2BAAOQ,MAAOjC,GAAQ,GAAIoD,SA3B1C,SAAoBlB,GAChBc,EAAQd,EAAEmB,OAAOpB,QA0B2CK,aAAa,MAAMC,UAAU,IAAIC,UAAU,KAAKhE,UAAU,cAAc2C,GAAG,aAAanB,KAAK,OAAOD,KAAK,OAAO2C,UAAQ,IACxK,0BAAMlE,UAAU,qBAAqB2C,GAAG,qBACxC,2BAAOc,MAAOgB,GAAe,GAAIG,SA1BjD,SAAqBE,GACjBJ,EAAeI,EAAMD,OAAOpB,QAyBwCK,aAAa,MAAMC,UAAU,IAAIC,UAAU,MAAMhE,UAAU,kBAAkB2C,GAAG,iBAAiBnB,KAAK,QAAQD,KAAK,OAAO2C,UAAQ,IAC1L,0BAAMlE,UAAU,qBAAqB2C,GAAG,6BCnC7C,SAASoC,EAAgBvE,GACpC,IAAMwE,EAAY3E,IAAMgD,SAUxB,OAHAhD,IAAMkD,WAAU,WACZyB,EAAUxB,QAAQC,MAAQ,KAC5B,CAACuB,IAEC,kBAAC,EAAD,CACIpC,SAAU,eACVF,OAAQlC,EAAMkC,OACdG,QAASrC,EAAMqC,QACfG,MAAO,wFACPE,WAAY,yDACZJ,SAhBR,SAAsBY,GAClBA,EAAEC,iBACFnD,EAAMyE,eAAe,CACjBnD,OAAQkD,EAAUxB,QAAQC,SAc1BR,SACI,oCACE,2BAAOY,IAAKmB,EAAWlB,aAAa,MAAMvC,KAAK,MAAMvB,UAAU,cAAc2C,GAAG,eAAenB,KAAK,SAASyC,YAAY,yFAAmBC,UAAQ,IACpJ,0BAAMlE,UAAU,qBAAqB2C,GAAG,0B,kBC6D7CuC,EAAM,I,WArFf,cAA+C,IAAlCC,EAAiC,EAAjCA,cAAcC,EAAmB,EAAnBA,SAASC,EAAU,EAAVA,QAAU,oBAC1CC,KAAKC,eAAiBJ,EACtBG,KAAKE,UAAYJ,EACjBE,KAAKG,SAAWJ,E,4DAEJK,GACZ,OAAIA,EAASC,GACFD,EAASE,QAEhBC,QAAQC,IAAI,6BACLC,QAAQC,OAAON,EAASO,e,2CAGlBC,GAEjB,OADAL,QAAQC,IAAI,wBACLC,QAAQC,OAAOE,EAAIC,W,sCAEdC,GACZ,OAAOC,MAAMf,KAAKE,UAAU,CACxBc,OAAQ,OACRC,QAAS,CACLpB,cAAeG,KAAKC,eACpB,eAAgB,oBAEpBiB,KAAMC,KAAKC,UAAU,CACjBlF,KAAM4E,EAAI5E,KACVL,KAAMiF,EAAIjF,SAEfwF,KAAKrB,KAAKsB,iBAAiBC,MAAMvB,KAAKwB,wB,iCAElCC,GACP,OAAOV,MAAM,GAAD,OAAIf,KAAKE,UAAT,iBAA2BuB,GAAS,CAC5CR,QAAS,CAACpB,cAAeG,KAAKC,gBAC9Be,OAAQ,WACTK,KAAKrB,KAAKsB,iBAAiBC,MAAMvB,KAAKwB,wB,8BAErCC,GACJ,OAAOV,MAAM,GAAD,OAAIf,KAAKE,UAAT,iBAA2BuB,GAAS,CAC5CR,QAAS,CAACpB,cAAeG,KAAKC,gBAC9Be,OAAQ,QACTK,KAAKrB,KAAKsB,iBAAiBC,MAAMvB,KAAKwB,wB,iCAElCC,GACP,OAAOV,MAAM,GAAD,OAAIf,KAAKE,WAAT,OAAqBuB,GAAS,CACtCR,QAAS,CAACpB,cAAeG,KAAKC,gBAC9Be,OAAQ,WACTK,KAAKrB,KAAKsB,iBAAiBC,MAAMvB,KAAKwB,wB,gCAGzC,OAAOT,MAAMf,KAAKG,SAAS,CACvBc,QAAS,CAACpB,cAAeG,KAAKC,kBAC/BoB,KAAKrB,KAAKsB,iBAAiBC,MAAMvB,KAAKwB,wB,wCAGzC,OAAOT,MAAMf,KAAKE,UAAU,CACxBe,QAAS,CAACpB,cAAeG,KAAKC,kBAC/BoB,KAAKrB,KAAKsB,iBAAiBC,MAAMvB,KAAKwB,wB,kCAEjCV,GACR,OAAOC,MAAMf,KAAKG,SAAS,CACvBa,OAAQ,QACRC,QAAS,CACLpB,cAAeG,KAAKC,eACpB,eAAgB,oBAEpBiB,KAAMC,KAAKC,UAAU,CACjBlF,KAAM4E,EAAI5E,KACVO,MAAOqE,EAAIrE,UAEhB4E,KAAKrB,KAAKsB,iBAAiBC,MAAMvB,KAAKwB,wB,gCAEnCV,GACN,OAAOC,MAAM,GAAD,OAAIf,KAAKG,SAAT,WAA2B,CACnCa,OAAQ,QACRC,QAAS,CACLpB,cAAeG,KAAKC,eACpB,eAAgB,oBAEpBiB,KAAMC,KAAKC,UAAU,CACjB5E,OAAQsE,EAAItE,WAEjB6E,KAAKrB,KAAKsB,iBAAiBC,MAAMvB,KAAKwB,0B,KAI9B,CAAe,CAC9B3B,cAAe,uCACfC,SAAU,qDACVC,QAAS,yDCuBE2B,MApGf,SAAaxG,GAAO,IAAD,EACuBH,IAAMkE,SAAS,IADtC,mBACRD,EADQ,KACK2C,EADL,OAEW5G,IAAMkE,SAAS,IAF1B,mBAERrC,EAFQ,KAEDgF,EAFC,OAG+B7G,IAAMkE,UAAS,GAH9C,mBAGR4C,EAHQ,KAGSC,EAHT,OAIiC/G,IAAMkE,UAAS,GAJhD,mBAIR8C,EAJQ,KAIUC,EAJV,OAK6BjH,IAAMkE,UAAS,GAL5C,mBAKRgD,EALQ,KAKQC,EALR,OAM0BnH,IAAMkE,UAAS,GANzC,mBAMRkD,EANQ,KAMMC,EANN,OAOyBrH,IAAMkE,SAAS,IAPxC,mBAORoD,EAPQ,KAOMC,EAPN,KAsBf,SAASC,IACLH,GAAiB,GACjBF,GAAkB,GAClBF,GAAoB,GACpBF,GAAmB,GACnBQ,EAAgB,IAqDpB,OATAvH,IAAMkD,WAAU,WACZ2B,EAAI4C,UAAUnB,MAAK,SAACoB,GAChBd,EAAec,MAGnB7C,EAAI8C,kBAAkBrB,MAAK,SAACsB,GACxBf,EAASe,QAEf,IAEE,kBAAC7H,EAAmB8H,SAApB,CAA6BzE,MAAOa,GAChC,yBAAKtE,UAAU,QACX,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAMkC,MAAOA,EAAOG,YAvDhC,SAAqBzB,GACDA,EAAKI,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQwD,EAAYxD,OAEvDoE,EAAIiD,WAAWvH,EAAKE,KAAK6F,MAAK,SAACyB,GAC3B,IAAMC,EAAWnG,EAAMC,KAAI,SAACmG,GAAD,OAAOA,EAAExH,MAAQF,EAAKE,IAAMsH,EAAUE,KACjEpB,EAASmB,MAGbnD,EAAIqD,QAAQ3H,EAAKE,KAAK6F,MAAK,SAACyB,GACxB,IAAMC,EAAWnG,EAAMC,KAAI,SAACmG,GAAD,OAAOA,EAAExH,MAAQF,EAAKE,IAAMsH,EAAUE,KACjEpB,EAASmB,OA6CqC9F,oBAxC1D,SAA6B3B,GACzBsE,EAAIsD,WAAW5H,EAAKE,KAAK6F,MAAK,SAAC6B,GAC3B,IAAMH,EAAWnG,EAAMuG,QAAO,SAAArG,GAAI,OAAIA,IAASoG,KAC/CtB,EAASmB,OAqCmFhH,YAlEpG,SAAyBT,GACrB8G,GAAiB,GACjBE,EAAgBhH,IAgE8GoB,cAxElI,WACIsF,GAAoB,IAuEiJrF,WArEzK,WACIuF,GAAkB,IAoEqL3F,sBA3E3M,WACIuF,GAAmB,MA2EX,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAkBzC,aApC9B,SAAoByB,GAChBlB,EAAIwD,YAAYtC,GAAKO,MAAK,SAACsB,GACvBhB,EAAegB,MAChBtB,MAAK,WACJkB,QAgCgDhF,QAASgF,EAAgBnF,OAAQ2E,IAE7E,kBAAClE,EAAD,CAAeS,UAxB3B,SAAiBwC,GACblB,EAAIyD,gBAAgBvC,GAAKO,MAAK,SAACyB,GAC3BlB,EAAS,GAAD,mBAAKhF,GAAL,CAAWkG,QACpBzB,MAAK,WACJkB,QAoBuChF,QAASgF,EAAgBnF,OAAQ6E,IAEpE,kBAAC,EAAD,CAAerE,WAAY,eAAML,QAASgF,EAAgBnF,QAAQ,EAAO0B,cAAc,eAAepB,MAAM,6DAE5G,kBAAC+B,EAAD,CAAiBE,eAnC7B,SAAsBmB,GAClBlB,EAAI0D,UAAUxC,GAAKO,MAAK,SAACsB,GACrBhB,EAAegB,MAChBtB,MAAK,WACJkB,QA+BmDhF,QAASgF,EAAgBnF,OAAQyE,IAEhF,kBAAC,EAAD,CAAY/C,cAAc,cAAcxD,KAAM+G,EAAc9E,QAASgF,EAAgBnF,OAAQ+E,O,MCpG7GoB,IAASC,OACL,kBAAC,EAAD,MACGC,SAASC,cAAc,W,gBCR9BC,EAAOC,QAAU,u0E","file":"static/js/main.3062f0b0.chunk.js","sourcesContent":["import React from 'react';\r\nimport logo from \"../images/logo.png\";\r\n\r\nfunction Header() {\r\n    return(\r\n        <header className='header'>\r\n            <img className='header__logo' alt='Место' src={logo} />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext()\r\n\r\n","import React from \"react\";\r\nimport {CurrentUserContext} from \"../contexts/currentUserContext\";\r\n\r\nfunction Card (props){\r\n    const context = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === context._id;\r\n    const isLiked = props.card.likes.some(i => i._id === context._id)\r\n    function handleImageClick () {\r\n        props.onCardClick(props.card);\r\n    }\r\n    function handleCardLike () {\r\n        props.handleCardLike(props.card);\r\n    }\r\n    function handleCardDelete(){\r\n        props.handleCardDelete(props.card);\r\n    }\r\n    return(\r\n        <div className='place-card'>\r\n            <img className='place-card__image' alt='фото' src={props.card.link} onClick={handleImageClick} />\r\n            <button onClick={handleCardDelete} className={`place-card__delete ${(isOwn ? \"\" : \"place-card__delete_disabled\")}`} type='button'/>\r\n            <p className='place-card__title'>{props.card.name}</p>\r\n            <div className='place-card__like-container'>\r\n                <button className={`place-card__like ${isLiked ? 'place-card__like_clicked' : ''}`} onClick={handleCardLike} type='button'/>\r\n                <p className='place-card__quantity'>{props.card.likes.length}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Card;","import React from 'react';\r\nimport Card from \"./Card.js\";\r\nimport {CurrentUserContext} from \"../contexts/currentUserContext\";\r\n\r\nfunction Main (props){\r\n    const context = React.useContext(CurrentUserContext)\r\n\r\n    function clickImage(card){\r\n        props.onCardClick(card)\r\n    }\r\n    return(\r\n        <>\r\n            <section className='profile'>\r\n                <button className='profile__image-button' type='button' onClick={props.isEditAvatarPopupOpen} />\r\n                <img className='profile__image' alt='фото профиля' src={context.avatar} />\r\n                <div className='profile__info'>\r\n                    <h1 className='profile__name'>{context.name}</h1>\r\n                    <p className='profile__activity'>{context.about}</p>\r\n                    <button className='profile__edit' type='button' onClick={props.onEditProfile} />\r\n                </div>\r\n                <button className='profile__add' type='button' onClick={props.onAddPlace } />\r\n            </section>\r\n\r\n            <section className='places-list'>\r\n                {props.cards.map((item) => {\r\n                    return (<Card\r\n                        handleCardLike={props.clickOnLike}\r\n                        onCardClick={clickImage}\r\n                        key={item._id}\r\n                        card={item}\r\n                        handleCardDelete={props.clickOnDeleteButton}\r\n                    />)\r\n                })}\r\n            </section>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\n\r\nfunction Footer() {\r\n    return(\r\n        <footer className='footer'>\r\n            <p className='footer__text'>&#169; 2020 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nfunction PopupWithForm (props){\r\n    return(\r\n        <section className={`popup ${props.isOpen && 'popup_opened'}`} id={props.formName}>\r\n            <div className='popup__container'>\r\n                <button className='popup__close' onClick={props.onClose} type='button' />\r\n                <form className='popup__form' onSubmit={props.onSubmit} name={props.formName} noValidate>\r\n                    <h3 className='popup__title'>{props.title}</h3>\r\n                    {props.children}\r\n                    <button className='popup__save'>{props.buttonText}</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup(props){\r\n    const linkRef = React.useRef();\r\n    const titleRef = React.useRef();\r\n    function handleAddPlaceSubmit(e){\r\n        e.preventDefault();\r\n        props.onAddCard({\r\n            link: linkRef.current.value,\r\n            name: titleRef.current.value\r\n        })\r\n    }\r\n    React.useEffect(() => {\r\n        linkRef.current.value = '';\r\n        titleRef.current.value = ''\r\n    },[linkRef,titleRef]);\r\n    return(\r\n        <PopupWithForm isOpen={props.isOpen}\r\n                       onClose={props.onClose}\r\n                       onSubmit={handleAddPlaceSubmit}\r\n                       formName={'card-popup'}\r\n                       buttonText={'Добавить'}\r\n                       title={'Новое место'}\r\n                       children={\r\n                           <>\r\n                               <input ref={titleRef} autoComplete=\"off\" minLength=\"1\" maxLength=\"30\" className='popup__name' id='input-place' name='name' type='text' placeholder='Название' required />\r\n                               <span className='popup__input-error' id='input-place-error'/>\r\n                               <input ref={linkRef} autoComplete=\"off\" type=\"url\" className='popup__activity' id='input-link' name='link' placeholder='Ссылка на картинку' required />\r\n                               <span className='popup__input-error' id='input-link-error'/>\r\n                           </>\r\n                       }\r\n        />\r\n    )\r\n}","import React from \"react\";\r\n\r\nfunction ImagePopup (props){\r\n    return(\r\n        <section className={`popup ${props.isOpen && 'popup_opened'}`} id={props.popupSelector}>\r\n            <div className='popup__container'>\r\n                <button className='popup__close' onClick={props.onClose} type='button' />\r\n                <img className='popup__image' alt='фото' src={`${props.card.link}`}/>\r\n                <p className='popup__text'>{props.card.name}</p>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import React from \"react\";\r\nimport {CurrentUserContext} from \"../contexts/currentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup (props){\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name,setName] = React.useState(currentUser.name);\r\n    const [description, setDescription] = React.useState(currentUser.about);\r\n    function changeName(e){\r\n        setName(e.target.value);\r\n    }\r\n    function changeAbout(event){\r\n        setDescription(event.target.value)\r\n    }\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    },[currentUser.name,currentUser.about])\r\n    return(\r\n        <PopupWithForm\r\n            formName={'profile-popup'}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            title={'Редактировать профиль'}\r\n            buttonText={'Сохранить'}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input value={name || ''} onChange={changeName} autoComplete=\"off\" minLength=\"2\" maxLength=\"40\" className='popup__name' id='input-name' name='name' type='text' required />\r\n                    <span className='popup__input-error' id='input-name-error'/>\r\n                    <input value={description || ''} onChange={changeAbout} autoComplete=\"off\" minLength=\"2\" maxLength=\"200\" className='popup__activity' id='input-activity' name='about' type='text' required />\r\n                    <span className='popup__input-error' id='input-activity-error'/>\r\n                </>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup(props){\r\n    const avatarRef = React.useRef()\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        })\r\n    }\r\n    React.useEffect(() => {\r\n        avatarRef.current.value = ''\r\n    },[avatarRef])\r\n    return(\r\n        <PopupWithForm\r\n            formName={'avatar-popup'}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            title={'Обновить аватар'}\r\n            buttonText={'Сохранить'}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                  <input ref={avatarRef} autoComplete=\"off\" type=\"url\" className='popup__name' id='input-avatar' name='avatar' placeholder='Ссылка на аватар' required />\r\n                  <span className='popup__input-error' id='input-avatar-error'/>\r\n                </>\r\n            }\r\n            />\r\n    )\r\n}","class defaultApi {\r\n    constructor({authorization,cardsUrl,userUrl}) {\r\n        this._authorization = authorization;\r\n        this._cardsUrl = cardsUrl;\r\n        this._userUrl = userUrl;\r\n    }\r\n    _handleResponse(response){\r\n        if (response.ok) {\r\n            return response.json();\r\n        } else {\r\n            console.log('_handleResponse rejection')\r\n            return Promise.reject(response.statusText)\r\n        }\r\n    }\r\n    _handleResponseError(err){\r\n        console.log('_handleResponseError')\r\n        return Promise.reject(err.message)\r\n    }\r\n    addCardToServer(obj){\r\n        return fetch(this._cardsUrl,{\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: obj.name,\r\n                link: obj.link\r\n            })\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    removeLike(cardId){\r\n        return fetch(`${this._cardsUrl}likes/${cardId}`,{\r\n            headers: {authorization: this._authorization},\r\n            method: 'DELETE'\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    setLike(cardId){\r\n        return fetch(`${this._cardsUrl}likes/${cardId}`,{\r\n            headers: {authorization: this._authorization},\r\n            method: 'PUT'\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    deleteCard(cardId){\r\n        return fetch(`${this._cardsUrl}${cardId}`,{\r\n            headers: {authorization: this._authorization},\r\n            method: 'DELETE'\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    getUser(){\r\n        return fetch(this._userUrl,{\r\n            headers: {authorization: this._authorization}\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    getInitialCards(){\r\n        return fetch(this._cardsUrl,{\r\n            headers: {authorization: this._authorization}\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    editProfile(obj){\r\n        return fetch(this._userUrl,{\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: obj.name,\r\n                about: obj.about\r\n            })\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n    setAvatar(obj){\r\n        return fetch(`${this._userUrl}/avatar`,{\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: obj.avatar\r\n            })\r\n        }).then(this._handleResponse).catch(this._handleResponseError)\r\n    }\r\n}\r\n\r\nexport const api = new defaultApi({\r\n    authorization: 'fe47d12a-65cb-489c-8a22-593f286d28c3',\r\n    cardsUrl: 'https://mesto.nomoreparties.co/v1/cohort-13/cards/',\r\n    userUrl: 'https://mesto.nomoreparties.co/v1/cohort-13/users/me'\r\n})","import React from 'react';\r\nimport Header from './Header.js';\r\nimport Main from \"./Main.js\";\r\nimport Footer from './Footer.js';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport {CurrentUserContext} from \"../contexts/currentUserContext\";\r\nimport{api} from \"../utils/api\";\r\n\r\nfunction App(props){\r\n    const [currentUser, setCurrentUser] = React.useState({});\r\n    const [cards, setCards] = React.useState([])\r\n    const [editAvatarPopup, setEditAvatarPopup] = React.useState(false);\r\n    const [editProfilePopup, setEditProfilePopup] = React.useState(false);\r\n    const [editPlacePopup, setEditPlacePopup] = React.useState(false)\r\n    const [editCardPopup,setEditCardPopup] = React.useState(false);\r\n    const [selectedCard, setSelectedCard] = React.useState({});\r\n\r\n    function handleEditAvatarClick () {\r\n        setEditAvatarPopup(true);\r\n    }\r\n    function handleEditProfilePopup(){\r\n        setEditProfilePopup(true);\r\n    }\r\n    function handleEditPlacePopup(){\r\n        setEditPlacePopup(true);\r\n    }\r\n    function handleCardPopup(card){\r\n        setEditCardPopup(true);\r\n        setSelectedCard(card);\r\n    }\r\n    function closeAllPopups(){\r\n        setEditCardPopup(false);\r\n        setEditPlacePopup(false);\r\n        setEditProfilePopup(false);\r\n        setEditAvatarPopup(false);\r\n        setSelectedCard({});\r\n    }\r\n    function onLikeClick(card){\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n        if(isLiked){\r\n            api.removeLike(card._id).then((newCard) => {\r\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n                setCards(newCards);\r\n            })\r\n        }else{\r\n            api.setLike(card._id).then((newCard) => {\r\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n                setCards(newCards);\r\n            })\r\n        }\r\n    }\r\n\r\n    function onDeleteButtonClick(card){\r\n        api.deleteCard(card._id).then((deleteCard) => {\r\n            const newCards = cards.filter(item => item !== deleteCard);\r\n            setCards(newCards)\r\n        })\r\n    }\r\n    function updateUser(obj){\r\n        api.editProfile(obj).then((data) => {\r\n            setCurrentUser(data);\r\n        }).then(() => {\r\n            closeAllPopups();\r\n        })\r\n    }\r\n    function updateAvatar(obj){\r\n        api.setAvatar(obj).then((data) => {\r\n            setCurrentUser(data)\r\n        }).then(() => {\r\n            closeAllPopups();\r\n        })\r\n    }\r\n    function addCard(obj){\r\n        api.addCardToServer(obj).then((newCard) => {\r\n            setCards([...cards,newCard]);\r\n        }).then(() => {\r\n            closeAllPopups();\r\n        })\r\n    }\r\n    React.useEffect(() => {\r\n        api.getUser().then((user) => {\r\n            setCurrentUser(user);\r\n        })\r\n\r\n        api.getInitialCards().then((data) => {\r\n            setCards(data);\r\n        })\r\n    },[]);\r\n    return(\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <div className='page'>\r\n                <Header />\r\n                <Main cards={cards} clickOnLike={onLikeClick} clickOnDeleteButton={onDeleteButtonClick} onCardClick={handleCardPopup} onEditProfile={handleEditProfilePopup} onAddPlace={handleEditPlacePopup} isEditAvatarPopupOpen={handleEditAvatarClick} />\r\n                <Footer />\r\n                <EditProfilePopup onUpdateUser={updateUser} onClose={closeAllPopups} isOpen={editProfilePopup} />\r\n\r\n                <AddPlacePopup onAddCard={addCard} onClose={closeAllPopups} isOpen={editPlacePopup} />\r\n\r\n                <PopupWithForm buttonText={'Да'} onClose={closeAllPopups} isOpen={false} popupSelector=\"delete-popup\" title=\"Вы уверены?\" />\r\n\r\n                <EditAvatarPopup onUpdateAvatar={updateAvatar} onClose={closeAllPopups} isOpen={editAvatarPopup} />\r\n\r\n                <ImagePopup popupSelector=\"image-popup\" card={selectedCard} onClose={closeAllPopups} isOpen={editCardPopup}/>\r\n            </div>\r\n        </CurrentUserContext.Provider>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App.js';\r\nimport './index.css';\r\n\r\n\r\nReactDOM.render((\r\n    <App />\r\n    ), document.querySelector('#root'));","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}